<div>
  <h1>Sign In</h1>
  <form #signin="ngForm" (ngSubmit)="signIn(signin)">
    <label>Login:</label>
    <input type="text" name="login" ngModel>
    <br>
    <label>Password:</label>
    <input type="password" name="password" ngModel>
    <br>
    <input type="submit" value="send">
    <br>
    <input type="button" (click)="Register()" value="Register">
  </form>
  <h2>{{msg1}}</h2>
</div>
<div *ngIf="authorizedUser">
  <button (click)="logout()">Logout</button>
</div>
<div *ngIf="registerClicked === 1">
  <h1>Create user</h1>
  <br>
  <form #form1="ngForm" (ngSubmit)="createUser(form1)" enctype="multipart/form-data">
    <label> Login:</label>
    <input type="text" name="login" ngModel>
    <br>
    <label>Password: </label>
    <input type="password" name="password" ngModel>
    <br>
    <label>Name: </label>
    <input type="text" name="firstName" ngModel>
    <br>
    <label>Surname: </label>
    <input type="text" name="surname" ngModel>
    <br>
    <label>Phone Number: </label>
    <input type="text" name="phone" ngModel>
    <br>
    <label>Photo:</label>
    <input type="file" name="photos" (change)="fileUploadEvent($event)" ngModel>
    <br>
    <label>Email: </label>
    <input type="text" name="email" ngModel>
    <br>
    <label>Adress: </label>
    <input type="text" name="adress" ngModel>
    <br>
    <br>
    <button>Send</button>
  </form>
  <h2>{{msg}}</h2>
</div>

<div *ngIf="authorizedUser">
  <div *ngIf="authorizedUser.admin === true">
    <h3>Admin: {{authorizedUser.login}}</h3>
  </div>
  <div *ngIf="authorizedUser.admin === false">
    <h3>User: {{authorizedUser.login}}</h3>
  </div>
</div>
<div *ngIf="authorizedUser&&authorizedUser.admin === true">
    <h3>Get all users</h3>
    <button (click)="getAllUsers()">Get all Users</button>
    <br>
    <div *ngFor="let user of users">
  <span *ngIf="users!=[]">
    <h4>Login: {{user.login}}</h4>
    <h4>Password: {{user.password}}</h4>
    <h4 *ngIf="user.firstName!= ''">Name: {{user.firstName}}</h4>
    <h4 *ngIf="user.firstName === ''">Name: doesn't exist</h4>
    <h4>Id: {{user._id}}</h4>
    <h4 *ngIf="user.firstName!= ''">Surname: {{user.surname}}</h4>
    <h4 *ngIf="user.firstName=== ''">Surname: doesn't exist</h4>

    <h4 *ngIf="user.phone!= ''">Phone number: {{user.phone}}</h4>
    <h4 *ngIf="user.phone=== ''">Phone number: doesn`t exist</h4>
    <h4 *ngIf="user.photo!='no photo'">Photo:
    <img [src]="'http://localhost:3000/userPhotos/' + user.photo"></h4>
    <h4 *ngIf="user.photo === 'no photo' || !user.photo">Photo: doesn`t exist</h4>
    <h4 *ngIf="user.email!=''">Email: {{user.email}}</h4>
    <h4 *ngIf="user.email === ''">Email: doesn`t exist</h4>
    <h4 *ngIf="user.adress != ''">Adress: {{user.adress}}</h4>
    <h4 *ngIf="user.adress === ''">Adress: doesn`t exist</h4>
    <h4>Admin: {{user.admin}}</h4>
  </span>
      <hr>
    </div>
  </div>
<div *ngIf="authorizedUser&&authorizedUser.admin === true">
    <p>Get User by Login</p>
    <input type="text" #getUser>
    <button (click)="getUserByLogin(getUser)">Get user</button>
    <div *ngIf="foundUserByLogin">
      <h4>Login: {{foundUserByLogin.login}}</h4>
      <h4>Password: {{foundUserByLogin.password}}</h4>
      <h4 *ngIf="foundUserByLogin.firstName!= ''">Name: {{foundUserByLogin.firstName}}</h4>
      <h4 *ngIf="foundUserByLogin.firstName === ''">Name: doesn't exist</h4>
      <h4>Id: {{foundUserByLogin._id}}</h4>
      <h4 *ngIf="foundUserByLogin.firstName!= ''">Surname: {{foundUserByLogin.surname}}</h4>
      <h4 *ngIf="foundUserByLogin.firstName=== ''">Surname: doesn't exist</h4>
      <h4 *ngIf="foundUserByLogin.phone!= ''">Phone number: {{foundUserByLogin.phone}}</h4>
      <h4 *ngIf="foundUserByLogin.phone=== ''">Phone number: doesn`t exist</h4>
      <h4 *ngIf="foundUserByLogin.photo!='no photo'">Photo:
        <img [src]="'http://localhost:3000/userPhotos/' + foundUserByLogin.photo"></h4>
      <h4 *ngIf="foundUserByLogin.photo === 'no photo' || !foundUserByLogin.photo">Photo: doesn`t exist</h4>
      <h4 *ngIf="foundUserByLogin.email!=''">Email: {{foundUserByLogin.email}}</h4>
      <h4 *ngIf="foundUserByLogin.email === ''">Email: doesn`t exist</h4>
      <h4 *ngIf="foundUserByLogin.adress != ''">Adress: {{foundUserByLogin.adress}}</h4>
      <h4 *ngIf="foundUserByLogin.adress === ''">Adress: doesn`t exist</h4>
      <h4>Admin: {{foundUserByLogin.admin}}</h4>
    </div>
  </div>
<div *ngIf="authorizedUser&&authorizedUser.admin === true">
  <div>
    <h1>Create user</h1>
    <form #form1="ngForm" (ngSubmit)="createUser(form1)" enctype="multipart/form-data">
      <label> Login:</label>
      <input type="text" name="login" ngModel>
      <br>
      <label>Password: </label>
      <input type="password" name="password" ngModel>
      <br>
      <label>Name: </label>
      <input type="text" name="firstName" ngModel>
      <br>
      <label>Surname: </label>
      <input type="text" name="surname" ngModel>
      <br>
      <label>Phone Number: </label>
      <input type="text" name="phone" ngModel>
      <br>
      <label>Photo:</label>
      <input type="file" name="photos" (change)="fileUploadEvent($event)" ngModel>
      <br>
      <label>Email: </label>
      <input type="text" name="email" ngModel>
      <br>
      <label>Adress: </label>
      <input type="text" name="adress" ngModel>
      <br>
      <br>
      <button>Send</button>
    </form>
  </div>
  <h2>{{msg}}</h2>
</div>
<div *ngIf="authorizedUser&&authorizedUser.admin === true">
  <h2>Create admin</h2>
  <form #adminForm="ngForm" (ngSubmit)="createAdmin(adminForm)" enctype="multipart/form-data">
    <label> Login:</label>
    <input type="text" name="login" ngModel>
    <br>
    <label>Password: </label>
    <input type="password" name="password" ngModel>
    <br>
    <label>Name: </label>
    <input type="text" name="firstName" ngModel>
    <br>
    <label>Surname: </label>
    <input type="text" name="surname" ngModel>
    <br>
    <label>Phone Number: </label>
    <input type="text" name="phone" ngModel>
    <br>
    <label>Photo:</label>
    <input type="file" name="photos" (change)="fileUploadEventAdmin($event)" ngModel>
    <br>
    <label>Email: </label>
    <input type="text" name="email" ngModel>
    <br>
    <label>Adress: </label>
    <input type="text" name="adress" ngModel>
    <br>
    <button>Send</button>
  </form>
  <h2>{{msg2}}</h2>
</div>
<div *ngIf="authorizedUser&&authorizedUser.admin === true">
    <h1>
      Now input new values of User
    </h1>
    <br>
    <form #form2="ngForm" (ngSubmit)="updateUser(form2)" enctype="multipart/form-data">
      <label>Id: </label>
      <input type="text" name="_id" ngModel>
      <br>
      <label> Login:</label>
      <input type="text" name="login" ngModel>
      <br>
      <label>Password: </label>
      <input type="password" name="password" ngModel>
      <br>
      <label>Name: </label>
      <input type="text" name="firstName" ngModel>
      <br>
      <label>Surname: </label>
      <input type="text" name="surname" ngModel>
      <br>
      <label>Phone Number: </label>
      <input type="text" name="phone" ngModel>
      <br>
      <label>Photo:</label>
      <input type="file" name="photos" (change)="fileUpdateEvent($event)" ngModel>
      <br>
      <label>Email: </label>
      <input type="text" name="email" ngModel>
      <br>
      <label>Adress: </label>
      <input type="text" name="adress" ngModel>
      <br>
      <button type="submit">Send</button>
    </form>
    <form *ngIf="updatedUser">
      <h4>Login: {{updatedUser.login}}</h4>
      <h4>Password: {{updatedUser.password}}</h4>
      <h4 *ngIf="updatedUser.firstName!= ''">Name: {{updatedUser.firstName}}</h4>
      <h4 *ngIf="updatedUser.firstName === ''">Name: doesn't exist</h4>
      <h4>Id: {{updatedUser._id}}</h4>
      <h4 *ngIf="updatedUser.firstName!= ''">Surname: {{updatedUser.surname}}</h4>
      <h4 *ngIf="updatedUser.firstName=== ''">Surname: doesn't exist</h4>
      <h4 *ngIf="updatedUser.phone!= ''">Phone number: {{updatedUser.phone}}</h4>
      <h4 *ngIf="updatedUser.phone=== ''">Phone number: doesn`t exist</h4>
      <h4 *ngIf="updatedUser.photo!='no photo'">Photo:
        <img [src]="'http://localhost:3000/userPhotos/' + updatedUser.photo"></h4>
      <h4 *ngIf="updatedUser.photo === 'no photo' || !updatedUser.photo">Photo: doesn`t exist</h4>
      <h4 *ngIf="updatedUser.email!=''">Email: {{updatedUser.email}}</h4>
      <h4 *ngIf="updatedUser.email === ''">Email: doesn`t exist</h4>
      <h4 *ngIf="updatedUser.adress != ''">Adress: {{updatedUser.adress}}</h4>
      <h4 *ngIf="updatedUser.adress === ''">Adress: doesn`t exist</h4>
      <h4>Admin: {{updatedUser.admin}}</h4>
    </form>
  </div>
<div *ngIf="authorizedUser&&authorizedUser.admin === true">
    <h1>Delete someone</h1>
    <input (input)="getValue(a1)" #a1 type="text" name="id" ngModel>
    <button [disabled]="valueInput===''" (click)="deleteUser(a1)">Send</button>
    <h2>{{msg3}}</h2>
    <form *ngIf="deletedUser">
      <h4>Login: {{deletedUser.login}}</h4>
      <h4>Password: {{deletedUser.password}}</h4>
      <h4 *ngIf="deletedUser.firstName!= ''">Name: {{deletedUser.firstName}}</h4>
      <h4 *ngIf="deletedUser.firstName === ''">Name: doesn't exist</h4>
      <h4>Id: {{deletedUser._id}}</h4>
      <h4 *ngIf="deletedUser.firstName!= ''">Surname: {{deletedUser.surname}}</h4>
      <h4 *ngIf="deletedUser.firstName=== ''">Surname: doesn't exist</h4>
      <h4 *ngIf="deletedUser.phone!= ''">Phone number: {{deletedUser.phone}}</h4>
      <h4 *ngIf="deletedUser.phone=== ''">Phone number: doesn`t exist</h4>
      <h4 *ngIf="deletedUser.photo!='no photo'">Photo:
        <img [src]="'http://localhost:3000/userPhotos/' + deletedUser.photo"></h4>
      <h4 *ngIf="deletedUser.photo === 'no photo' || !deletedUser.photo">Photo: doesn`t exist</h4>
      <h4 *ngIf="deletedUser.email!=''">Email: {{deletedUser.email}}</h4>
      <h4 *ngIf="deletedUser.email === ''">Email: doesn`t exist</h4>
      <h4 *ngIf="deletedUser.adress != ''">Adress: {{deletedUser.adress}}</h4>
      <h4 *ngIf="deletedUser.adress === ''">Adress: doesn`t exist</h4>
      <h4>Admin: {{deletedUser.admin}}</h4>
    </form>
  </div>
<div *ngIf="authorizedUser&&authorizedUser.admin === true">
  <button (click)="deleteAllUsers()">Delete all users</button>
</div>
<div *ngIf="authorizedUser&&authorizedUser.admin === false">
  <h4>Login: {{authorizedUser.login}}</h4>
  <h4>Password: {{authorizedUser.password}}</h4>
  <h4 *ngIf="authorizedUser.firstName!==''">
    Name: {{authorizedUser.firstName}}
  </h4>
  <h4 *ngIf="authorizedUser.name==''">
    Name: doesn't exist
  </h4>
  <h4 *ngIf="authorizedUser.surname!==''">
    Surname: {{authorizedUser.surname}}
  </h4>
  <h4 *ngIf="authorizedUser.surname==''">
    Surname: doesn't exist
  </h4>
  <h4 *ngIf="authorizedUser.phone!==''">
    Phone number: {{authorizedUser.phone}}
  </h4>
  <h4 *ngIf="authorizedUser.phone==''">
    Phone number: doesn't exist
  </h4>
  <h4 *ngIf="authorizedUser.photo!=='no photo'">
    <img [src]="'http://localhost:3000/userPhotos/' + authorizedUser.photo">
  </h4>
  <h4 *ngIf="authorizedUser.photo === 'no photo'">
    Photo: doesn't exist
  </h4>
  <h4 *ngIf="authorizedUser.adress!==''">
    Adress: {{authorizedUser.adress}}
  </h4>
  <h4 *ngIf="authorizedUser.adress === ''">
    Adress: doesn't exist
  </h4>
</div>
<div *ngIf="authorizedUser">
  <button (click)="deleteProfile()">Delete profile</button>
</div>
