<div>
  <h1>Sign In</h1>
  <form #signin="ngForm" (ngSubmit)="signIn(signin)">
    <label>Login:</label>
    <input type="text" name="login" ngModel>
    <br>
    <label>Password:</label>
    <input type="password" name="password" ngModel>
    <br>
    <input type="submit" value="send">
    <br>
      <input type="button" (click)="Register()" value="Register">
  </form>
  {{this.msg1}}
</div>
<div *ngIf="registerClicked === 1">
  <h1>Create user</h1>
  <br>
  <form #form1="ngForm" (ngSubmit)="createUser(form1)" enctype="multipart/form-data">
    <label> Login:</label>
    <input type="text" name="login" ngModel>
    <br>
    <label>Password: </label>
    <input type="password" name="password" ngModel>
    <br>
    <label>Name: </label>
    <input type="text" name="firstName" ngModel>
    <br>
    <label>Surname: </label>
    <input type="text" name="surname" ngModel>
    <br>
    <label>Phone Number: </label>
    <input type="text" name="phone" ngModel>
    <br>
    <label>Photo:</label>
    <input type="file" name="photos" (change)="fileUploadEvent($event)" ngModel>
    <br>
    <label>Email: </label>
    <input type="text" name="email" ngModel>
    <br>
    <label>Adress: </label>
    <input type="text" name="adress" ngModel>
    <br>
    <br>
    <button>Send</button>
  </form>
</div>
{{this.msg}}
<div *ngIf="authorizedUser">
  <div *ngIf="authorizedUser.admin === true" class="float-right">
    <h3>Admin: {{authorizedUser.login}}</h3>
  </div>
  <div *ngIf="authorizedUser.admin === false" class="float-right">
    <h3>User: {{authorizedUser.login}}</h3>
  </div>
</div>
<div *ngIf="authorizedUser&&nouser===0">
  <div *ngIf="authorizedUser.admin === true">
    <h3>Get all users</h3>
    <button (click)="getAllUsers()">Get all Users</button>
    <br>
    <div *ngFor="let user of users">
  <span *ngIf="users!=[]">
    <h2>Login: {{user.login}}</h2>
    <h2>Password: {{user.password}}</h2>
    <h1>Name: {{user.firstName}}</h1>
    <h4>Id: {{user._id}}</h4>
    <h4>Surname: {{user.surname}}</h4>
    <h4>Phone number: {{user.phone}}</h4>
    <h4>Photo:
    <img [src]="'http://localhost:3000/userPhotos/' + user.photo"></h4>
    <h4>Email: {{user.email}}</h4>
    <h4>Adress: {{user.adress}}</h4>
    <h4>Admin: {{user.admin}}</h4>
  </span>
    </div>
  </div>
</div>
<div *ngIf="authorizedUser&&nouser===0">
  <div *ngIf="authorizedUser.admin === true">
    <p>Get User by Id</p>
    <input type="text" #getUserId>
    <button (click)="getUserById(getUserId)">Get user</button>
    <div *ngIf="foundUserById">
      <h2>Login: {{foundUserById.login}}</h2>
      <h2>Password: {{foundUserById.password}}</h2>
      <h1>Name: {{foundUserById.firstName}}</h1>
      <h4>Id: {{foundUserById._id}}</h4>
      <h4>Surname: {{foundUserById.surname}}</h4>
      <h4>Phone number: {{foundUserById.phone}}</h4>
      <h4>Photo:</h4>
      <img [src]="'http://localhost:3000/userPhotos/' + foundUserById.photo">
      <h4>Email: {{foundUserById.email}}</h4>
      <h4>Adress: {{foundUserById.adress}}</h4>
    </div>
  </div>
</div>
<div *ngIf="authorizedUser&&nouser===0">
  <div *ngIf="authorizedUser.admin === true">
    <div>
      <h1>Create user</h1>
      <br>
      <form #form1="ngForm" (ngSubmit)="createUser(form1)" enctype="multipart/form-data">
        <label> Login:</label>
        <input type="text" name="login" ngModel>
        <br>
        <label>Password: </label>
        <input type="password" name="password" ngModel>
        <br>
        <label>Name: </label>
        <input type="text" name="firstName" ngModel>
        <br>
        <label>Surname: </label>
        <input type="text" name="surname" ngModel>
        <br>
        <label>Phone Number: </label>
        <input type="text" name="phone" ngModel>
        <br>
        <label>Photo:</label>
        <input type="file" name="photos" (change)="fileUploadEvent($event)" ngModel>
        <br>
        <label>Email: </label>
        <input type="text" name="email" ngModel>
        <br>
        <label>Adress: </label>
        <input type="text" name="adress" ngModel>
        <br>
        <br>
        <button>Send</button>
      </form>
    </div>
    <h3>{{this.msg}}</h3>
  </div>
</div>
<div *ngIf="authorizedUser&&nouser===0">
  <div *ngIf="authorizedUser.admin === true">
    <h1>
      Now input new values of User
    </h1>
    <br>
    <form #form2="ngForm" (ngSubmit)="updateUser(form2)" enctype="multipart/form-data">
      <label>Id: </label>
      <input type="text" name="_id" ngModel>
      <br>
      <label> Login:</label>
      <input type="text" name="login" ngModel>
      <br>
      <label>Password: </label>
      <input type="password" name="password" ngModel>
      <br>

      <label>Name: </label>
      <input type="text" name="firstName" ngModel>
      <br>
      <label>Surname: </label>
      <input type="text" name="surname" ngModel>
      <br>
      <label>Phone Number: </label>
      <input type="text" name="phone" ngModel>
      <br>
      <label>Photo:</label>
      <input type="file" name="photos" (change)="fileUpdateEvent($event)" ngModel>
      <br>
      <label>Email: </label>
      <input type="text" name="email" ngModel>
      <br>
      <label>Adress: </label>
      <input type="text" name="adress" ngModel>
      <br>
      <button type="submit">Send</button>
    </form>
    <form *ngIf="updatedUser">
      <h1>Login: {{updatedUser.login}}</h1>
      <h2>Password: {{updatedUser.password}}</h2>
      <h1>Name: {{updatedUser.firstName}}</h1>
      <h4>Id: {{updatedUser._id}}</h4>
      <h4>Surname: {{updatedUser.surname}}</h4>
      <h4>Phone number: {{updatedUser.phone}}</h4>
      <h4>Photo:</h4>
      <img [src]="'http://localhost:3000/userPhotos/' + updatedUser.photo">
      <h4>Email: {{updatedUser.email}}</h4>
      <h4>Adress: {{updatedUser.adress}}</h4>
    </form>
  </div>
</div>
<div *ngIf="authorizedUser&&nouser===0">
  <div *ngIf="authorizedUser.admin === true">
    <h1>Delete user</h1>
    <input #a1 type="text" name="id" ngModel>
    <button (click)="deleteUser(a1)">Send</button>
    <br>
    <form *ngIf="deletedUser">
      <h1>Login: {{deletedUser.login}}</h1>
      <h2>Password: {{deletedUser.password}}</h2>
      <h1>Name: {{deletedUser.firstName}}</h1>
      <h4>Id: {{deletedUser._id}}</h4>
      <h4>Surname: {{deletedUser.surname}}</h4>
      <h4>Phone number: {{deletedUser.phone}}</h4>
      <h4>Photo:</h4>
      <img [src]="'http://localhost:3000/userPhotos/' + deletedUser.photo">
      <h4>Email: {{deletedUser.email}}</h4>
      <h4>Adress: {{deletedUser.adress}}</h4>
    </form>
  </div>
</div>
<div *ngIf="authorizedUser&&nouser===0&&authorizedUser.admin === true">
  <button (click)="deleteAllUsers()">Delete all users</button>
</div>
<div *ngIf="authorizedUser&&nouser===0 &&authorizedUser.admin === false">
  <h3>Login: {{authorizedUser.login}}</h3>
  <h3>Password: {{authorizedUser.password}}</h3>

  <h3>Name: {{authorizedUser.firstName ? authorizedUser.firstName != '' : 'Doesn`t exist'}}</h3>

  <h3>Surname: {{authorizedUser.surname ? authorizedUser.surname != '' : 'Doesn`t exist'}}</h3>

  <h3>Login: {{authorizedUser.login}}</h3>
  <h3>Login: {{authorizedUser.login}}</h3>
  <h3>Login: {{authorizedUser.login}}</h3>
</div>
