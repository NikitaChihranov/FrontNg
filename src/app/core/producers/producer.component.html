<h1>Producers</h1>
<div *ngIf="producers!=[]">
  <ul *ngFor="let producer1 of producers">
    <h3 class="title" routerLink="viewAll" (click)="viewAllProductsByProducer(producer1._id)">{{producer1.title}} </h3>
    <li>Short about: {{producer1.about.short}}</li>
    <li>All about: {{producer1.about.all}}</li>
    <li>Photo:
      <img [src]="'http://localhost:3000/ProducerPhotos/' + producer1.photo">
    </li>
    <li>Country:{{producer1.country}}</li>
    <hr>
  </ul>
</div>
<form (ngSubmit)="getProducerByName(name)">
  <h2>Search</h2>
  <input type="text" #name>
  <button type="submit">Get</button>
</form>
<div *ngIf="foundProducerByName">
  <ul>
    <li><h3>Id:</h3>{{foundProducerByName._id}}</li>
    <li><h3>Title:</h3>{{foundProducerByName.title}}</li>
    <li><h3>Short about:</h3>{{foundProducerByName.about.short}}</li>
    <li><h3>About:</h3>{{foundProducerByName.about.all}}</li>
    <li>Photo:
      <img [src]="'http://localhost:3000/ProducerPhotos/' + foundProducerByName.photo">
    </li>
    <li><h3>Country:</h3>{{foundProducerByName.country}}</li>
  </ul>
</div>
<div *ngIf="authorizedUser">
<form #producerForm="ngForm" (ngSubmit)="createProducer(producerForm)" enctype="multipart/form-data">
  <h3>Create new producer</h3>
  Title: <input type="text" name="title" ngModel><br>
  Short about: <input type="text" name="about.short" ngModel><br>
  All about: <input type="text" name="about.all" ngModel><br>
  Photo:<input type="file"  name="photos" (change)="fileChangeEvent($event)" ngModel><br>
  Country: <input type="text" name="country" ngModel><br>
  <button type="submit">Create</button>
</form>
<form #updateForm="ngForm" (ngSubmit)="updateProducer(updateForm)" enctype="multipart/form-data">
  <h3>Update someone</h3>
  Title: <input type="text" name="title" ngModel><br>
  Short about: <input type="text" name="about.short" ngModel><br>
  All about: <input type="text" name="about.all" ngModel><br>
  Photo <input type="file"  name="photos" (change)="fileUpdateEvent($event)" ngModel><br>
  Country: <input type="text" name="country" ngModel><br>
  <button type="submit">Update</button>
</form>
<div *ngIf="updatedProducer">
  <h2>Updated producer</h2>
  <ul>
    <li>Title: {{updatedProducer.title}}</li>
    <li>Short about: {{updatedProducer.about.short}}</li>
    <li>About: {{updatedProducer.about.all}}</li>
    <li>Photo:
      <img [src]="'http://localhost:3000/ProducerPhotos/' + updatedProducer.photo">
    </li>
    <li>Country: {{updatedProducer.country}}</li>
  </ul>
</div>
<form>
  <h3>Delete someone</h3>
  <input type="text" #name>
  <br>
  <button (click)="deleteProducer(name)">Delete</button>
</form>
<div *ngIf="deletedProducer">
  <button (click)="hide()">Hide</button>
  <ul>
    <li>Title: {{deletedProducer.title}}</li>
    <li>Short about: {{deletedProducer.about.short}}</li>
    <li>About: {{deletedProducer.about.all}}</li>
    <li>Photo:
      <img [src]="'http://localhost:3000/ProducerPhotos/' + deletedProducer.photo">
    </li>
    <li>Country: {{deletedProducer.country}}</li>
  </ul>
</div>
<form>
  <h3>Delete all producers</h3>
  <button (click)="deleteAllProducers()">Delete all</button>
</form>
</div>
