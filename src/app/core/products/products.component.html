<h1>Products</h1>
<div *ngFor="let product of products">
  <h2 class="productTitle" (click)="viewProduct(product.title)">{{product.title}}</h2>
  <ul *ngIf="products!=[]">
    <li>Price: {{product.price}}</li>
    <li>Short about: {{product.about.short}}</li>
    <li><h2>Photos:</h2>
      <img [src]="'http://localhost:3000/photos/'+product.photos[0]">
    </li>
  </ul>
  <hr>
</div>
<h1>Search product</h1>
<input type="text" #name>
<button (click)="getProductByName(name)">Send</button>
<div *ngIf="foundProductByName">
  <p>Title: {{foundProductByName.title}}</p>
  <p>Price: {{foundProductByName.price}}</p>
  <p>Short about: {{foundProductByName.about.short}}</p>
  <li><h2>Photos:</h2>
    <img [src]="'http://localhost:3000/photos/'+foundProductByName.photos[0]">
  </li>
  <hr>
</div>
<div *ngIf="authorizedUser&&authorizedUser.admin === true">
  <h1>Create product</h1>
  <form #aaa="ngForm" (ngSubmit)="createProduct(aaa)" enctype="multipart/form-data">
    <label>Title: </label>
    <input type="text" name="title" ngModel>
    <br>
    <label>Price: </label>
    <input type="text" name="price" ngModel>
    <br>
    <label>About All: </label>
    <input type="text" name="about.all" ngModel><br>
    <label>About Short: </label>
    <input type="text" name="about.short" ngModel><br>
    <label>Colors: </label>
    <input type="text" name="colors" ngModel><br>
    <label>Photos: </label>
    <input
      type="file"
      name="photos"
      (change)="fileChangeEvent($event)"
      multiple="true"
      ngModel
    ><br>
    <label>Quantity: </label>
    <input type="text" name="quantity" ngModel><br>
    <label>Gender: </label>
    <input type="text" name="gender" ngModel><br>
    <label>Category: </label>
    <select name="category" ngModel>
      <option *ngFor="let category of categories">{{category.title}} </option>
    </select>
    <br>
    <label>Producer: </label>
    <select name="producer" ngModel>
      <option *ngFor="let producer of producers">{{producer.title}}</option>
    </select>
    <button type="submit">Send</button>
  </form>
  <br>
  <h1>Update product</h1>
  <form #updateForm="ngForm" (ngSubmit)="updateProduct(updateForm)">
    <label>Title: </label>
    <input type="text" name="title" ngModel>
    <br>
    <label>Price: </label>
    <input type="text" name="price" ngModel>
    <br>
    <label>About All: </label>
    <input type="text" name="about.all" ngModel><br>
    <label>About Short: </label>
    <input type="text" name="about.short" ngModel><br>
    <label>Colors: </label>
    <input type="text" name="colors" ngModel><br>
    <label>Photos: </label>
    <input
      type="file"
      name="photos"
      (change)="fileUpdateEvent($event)"
      multiple="true"
      ngModel
    ><br>
    <label>Quantity: </label>
    <input type="text" name="quantity" ngModel><br>
    <label>Gender: </label>
    <input type="text" name="gender" ngModel><br>
    <label>Category: </label>
    <select name="category" ngModel>
      <option *ngFor="let category of categories">{{category.title}} </option>
    </select>
    <br>
    <label>Producer: </label>
    <select name="producer" ngModel>
      <option *ngFor="let producer of producers">{{producer.title}}</option>
    </select>
    <button type="submit">Send</button>
  </form>
  <br>
  <p>Delete product</p>
  <input type="text" name="_id" #id>
  <button (click)="deleteProduct(id)">Delete</button>
  <br>
  <div *ngIf="deletedProduct">
    <p>Title: {{deletedProduct.title}}</p>
    <p>Price: {{deletedProduct.price}}</p>
    <p>Short about: {{deletedProduct.about.short}}</p>
    <li><h2>Photos:</h2>
      <img [src]="'http://localhost:3000/photos/'+deletedProduct.photos[0]">
    </li>
  </div>
  <h2>Delete all products</h2>
  <button (click)="deleteAllProducts()">Delete</button>
</div>
